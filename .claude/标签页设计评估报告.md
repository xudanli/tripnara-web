# 规划工作台标签页设计评估报告

## 📊 当前标签页结构

根据代码分析，当前规划工作台包含以下标签页：

1. **行程安排** (Schedule Tab) - 核心编辑功能
2. **决策评估** (Workbench Tab) - 方案生成和评估
3. **预订** (Bookings Tab) - 预订管理（占位功能）
4. **决策过程** (Decision Draft Tab) - 决策可视化（仅限自然语言创建的行程）

---

## 🎯 人机交互设计评估

### 评估维度

#### 1. **功能独立性**
- ✅ **决策评估**：功能完整且独立
  - 方案生成
  - 三人格评估
  - 方案对比
  - 预算评估
  - 决策时间线
  - **评估：需要独立标签页**

- ⚠️ **预订**：功能不完整
  - 当前仅为占位页面
  - 功能未实现
  - **评估：暂不需要独立标签页，可合并到其他位置**

- ⚠️ **决策过程**：功能受限
  - 仅对自然语言创建的行程有效
  - 大部分行程无法使用
  - 与"决策评估"功能重叠
  - **评估：可合并到"决策评估"标签页内**

#### 2. **用户工作流程**

**典型工作流程：**
```
创建行程 → 生成方案 → 评估方案 → 编辑行程 → 提交方案 → 管理预订
```

**标签页切换频率分析：**
- **行程安排 ↔ 决策评估**：高频切换（用户需要反复编辑和评估）
- **决策评估 ↔ 决策过程**：低频切换（决策过程是评估的补充信息）
- **预订**：低频访问（预订通常在规划完成后进行）

#### 3. **认知负荷**

**当前问题：**
- 4个标签页可能造成选择困难
- "决策评估"和"决策过程"概念相似，容易混淆
- "预订"功能未实现，占用标签页空间

**建议：**
- 减少标签页数量，降低认知负荷
- 合并相关功能，减少切换成本

#### 4. **信息架构**

**当前架构：**
```
规划工作台
├── 行程安排（编辑）
├── 决策评估（生成+评估）
├── 预订（占位）
└── 决策过程（可视化）
```

**问题：**
- "决策评估"和"决策过程"功能重叠
- "预订"功能未实现但占用标签页

---

## 💡 设计建议

### 方案一：合并相关功能（推荐）

#### 建议结构：
```
规划工作台
├── 行程安排（Schedule）
│   └── 核心编辑功能
│
├── 决策评估（Workbench）
│   ├── 方案生成和评估
│   ├── 三人格评估
│   ├── 预算评估
│   └── 决策过程（作为子标签或折叠面板）
│
└── 预订（Bookings）
    └── 预订管理（待实现）
```

**优势：**
- ✅ 减少标签页数量（4个 → 3个）
- ✅ "决策过程"作为"决策评估"的子功能，逻辑更清晰
- ✅ 降低认知负荷
- ✅ 减少不必要的标签页切换

**实施建议：**
1. 在"决策评估"标签页内添加子标签或折叠面板
2. 将"决策过程"作为"决策评估"的一个视图
3. 保留"预订"标签页，但标注"即将推出"或"Beta"

---

### 方案二：精简为2个核心标签页

#### 建议结构：
```
规划工作台
├── 行程安排（Schedule）
│   ├── 编辑行程
│   └── 预订管理（作为侧边栏或抽屉）
│
└── 决策评估（Workbench）
    ├── 方案生成
    ├── 评估结果
    └── 决策过程（折叠面板）
```

**优势：**
- ✅ 最简洁的结构
- ✅ 核心功能突出
- ✅ 减少导航负担

**劣势：**
- ⚠️ "预订"功能可能被埋没
- ⚠️ 功能密度较高，需要良好的信息组织

---

### 方案三：保持现状，优化体验

#### 优化措施：
1. **"决策过程"标签页优化**
   - 添加明确的说明：仅限自然语言创建的行程
   - 非自然语言行程显示友好的引导信息
   - 提供跳转到"决策评估"的快捷入口

2. **"预订"标签页优化**
   - 添加"即将推出"标识
   - 或暂时隐藏，通过其他入口访问

3. **标签页顺序优化**
   - 按使用频率排序：行程安排 → 决策评估 → 决策过程 → 预订

---

## 📋 详细评估结果

### "决策评估"标签页
**评估：✅ 需要独立标签页**

**理由：**
- 功能完整且独立
- 用户工作流程中的核心环节
- 包含多个子功能（生成、评估、对比、提交）
- 与"行程安排"形成清晰的编辑-评估循环

**建议：**
- 保持独立标签页
- 可以考虑添加子标签或分段，但不要过度拆分

---

### "预订"标签页
**评估：⚠️ 暂不需要独立标签页**

**理由：**
- 功能未实现，仅为占位
- 预订通常在规划完成后进行，使用频率较低
- 可以作为"行程安排"的侧边栏或抽屉功能

**建议：**
- **选项A**：暂时隐藏，通过"行程安排"页面的按钮访问
- **选项B**：保留标签页，但添加"即将推出"标识和占位内容
- **选项C**：合并到"行程安排"标签页，作为侧边栏功能

---

### "决策过程"标签页
**评估：⚠️ 不需要独立标签页，建议合并**

**理由：**
- 与"决策评估"功能重叠，都是关于决策的信息
- 仅对自然语言创建的行程有效，适用范围有限
- 用户需要先看"决策评估"，再看"决策过程"，是递进关系
- 作为"决策评估"的子视图更符合用户心理模型

**建议：**
- **推荐方案**：合并到"决策评估"标签页
  - 在"决策评估"页面添加"决策过程"折叠面板
  - 或添加子标签："评估结果" | "决策过程"
  - 仅在存在决策草案时显示

**实施方式：**
```tsx
// 在 PlanningWorkbenchTab 中添加
<Collapsible>
  <CollapsibleTrigger>
    <h3>决策过程</h3>
  </CollapsibleTrigger>
  <CollapsibleContent>
    <DecisionDraftTab draftId={draftId} />
  </CollapsibleContent>
</Collapsible>
```

---

## 🎨 最终推荐方案

### 推荐：方案一（合并相关功能）

#### 优化后的标签页结构：

```
规划工作台
├── 📅 行程安排
│   └── 编辑、优化、管理行程项
│
├── ⚖️ 决策评估
│   ├── 方案生成和评估（主视图）
│   ├── 三人格评估结果
│   ├── 预算评估
│   └── 📋 决策过程（折叠面板，仅自然语言行程显示）
│
└── 🏨 预订（可选）
    └── 预订管理（标注"即将推出"）
```

#### 具体优化措施：

1. **"决策过程"合并到"决策评估"**
   - 在"决策评估"页面底部添加折叠面板
   - 标题："为什么这样安排？"（已存在）
   - 仅在存在决策草案时显示
   - 移除独立的"决策过程"标签页

2. **"预订"标签页处理**
   - 保留标签页，但添加明确的占位内容
   - 或暂时隐藏，通过其他入口访问

3. **标签页顺序**
   - 行程安排（最常用）
   - 决策评估（次常用）
   - 预订（低频，但保留）

---

## 📊 用户体验改进预期

### 改进前：
- 4个标签页，认知负荷较高
- "决策评估"和"决策过程"概念重叠
- "预订"功能未实现但占用空间

### 改进后：
- 3个标签页，结构更清晰
- "决策过程"作为"决策评估"的子功能，逻辑更顺畅
- 减少不必要的标签页切换
- 降低认知负荷，提高操作效率

---

## 🔄 迁移建议

### 实施步骤：

1. **第一阶段：合并"决策过程"**
   - 在`PlanningWorkbenchTab`中添加折叠面板
   - 将`DecisionDraftTab`内容嵌入
   - 移除独立的"决策过程"标签页
   - 更新导航逻辑

2. **第二阶段：优化"预订"标签页**
   - 添加占位内容和"即将推出"标识
   - 或暂时隐藏，通过其他入口访问

3. **第三阶段：用户体验测试**
   - 收集用户反馈
   - 根据使用数据调整

---

## 📝 总结

### 核心结论：

1. ✅ **"决策评估"**：需要独立标签页
2. ⚠️ **"预订"**：暂不需要独立标签页，可合并或隐藏
3. ❌ **"决策过程"**：不需要独立标签页，应合并到"决策评估"

### 推荐行动：

**立即执行：**
- 将"决策过程"合并到"决策评估"标签页内（作为折叠面板）

**后续优化：**
- 评估"预订"功能的实现优先级
- 根据用户反馈调整标签页结构

---

## 📚 参考原则

### 标签页设计原则：

1. **功能独立性**：每个标签页应有明确且独立的功能
2. **使用频率**：高频功能应更容易访问
3. **认知负荷**：标签页数量应控制在3-5个以内
4. **工作流程**：标签页顺序应符合用户工作流程
5. **信息层次**：相关功能应组织在一起，避免分散

### 当前问题：

- ❌ "决策评估"和"决策过程"功能重叠
- ❌ "预订"功能未实现但占用标签页
- ⚠️ 标签页数量略多（4个）

### 优化方向：

- ✅ 合并相关功能
- ✅ 减少标签页数量
- ✅ 优化信息架构
