# Dashboard 首页重新设计 - 多角色评估

**更新时间**：2026-01-31  
**评估目标**：重新设计 Dashboard 首页，优化信息架构和入口设计

---

## 📋 需求概述

### 用户需求

1. **首页显示内容**：
   - 显示当前待上次编辑的页面（老的dashboard页面）
   - 恢复原有的dashboard功能展示

2. **左侧菜单调整**：
   - **不需要**对话历史侧边栏（ConversationHistorySidebar）
   - 对话页面仅用于创建行程，标准表单仍然保留

3. **入口设计**：
   - **行程**：我的行程列表入口
   - **国家数据库**：国家知识库入口
   - **路线模版**：路线模版入口

---

## 🎯 评估维度

### 1. 产品经理评估（Danny）

#### 1.1 产品目标分析

**核心问题**：
- 用户首次进入 Dashboard 时，最需要看到什么？
- 如何平衡"继续编辑"和"创建新行程"的优先级？
- 入口设计如何支持用户的不同使用场景？

**产品目标**：
- ✅ **快速恢复工作**：用户能够快速找到并继续上次编辑的行程
- ✅ **清晰的功能入口**：行程、国家数据库、路线模版入口清晰可见
- ✅ **降低认知负担**：避免信息过载，突出关键功能

#### 1.2 用户场景分析

**场景1：回访用户（有未完成行程）**
- **用户目标**：继续编辑上次未完成的行程
- **当前问题**：对话历史侧边栏可能干扰，需要更直接的"继续编辑"入口
- **建议**：
  - 首页顶部显示"继续编辑"卡片（显示上次编辑的行程信息）
  - 点击后直接跳转到规划工作台或行程详情页

**场景2：新用户（无行程）**
- **用户目标**：了解功能，开始创建第一个行程
- **当前问题**：需要引导用户了解可用功能
- **建议**：
  - 显示欢迎区域和功能介绍
  - 提供清晰的"创建行程"入口（对话 + 表单两种方式）

**场景3：熟练用户（有多个行程）**
- **用户目标**：快速访问常用功能（行程列表、国家数据库、路线模版）
- **当前问题**：入口可能不够明显
- **建议**：
  - 快捷入口区域突出显示三个核心入口
  - 支持快速搜索和筛选

#### 1.3 功能优先级

**P0（必须）**：
- ✅ 显示当前待编辑的行程（如果有）
- ✅ 三个核心入口：行程、国家数据库、路线模版
- ✅ 创建行程入口（对话 + 表单）

**P1（重要）**：
- ⚠️ 今日任务/待办事项（如果有）
- ⚠️ 最近访问的行程（快速访问）

**P2（可选）**：
- 📝 功能推荐/引导
- 📝 统计数据展示

#### 1.4 信息架构建议

**推荐布局**：
```
┌─────────────────────────────────────────┐
│  Dashboard TopBar (顶部导航)            │
├─────────────────────────────────────────┤
│                                         │
│  ┌───────────────────────────────────┐ │
│  │  ContinueEditingCard (继续编辑)     │ │
│  │  - 显示上次编辑的行程信息            │ │
│  │  - "继续编辑"按钮                    │ │
│  └───────────────────────────────────┘ │
│                                         │
│  ┌───────────────────────────────────┐ │
│  │  QuickAccessSection (快捷入口)     │ │
│  │  ┌──────┐ ┌──────┐ ┌──────┐      │ │
│  │  │ 行程 │ │ 国家 │ │ 路线 │      │ │
│  │  │      │ │ 数据 │ │ 模版 │      │ │
│  │  └──────┘ └──────┘ └──────┘      │ │
│  └───────────────────────────────────┘ │
│                                         │
│  ┌───────────────────────────────────┐ │
│  │  CreateTripSection (创建行程)       │ │
│  │  - 对话方式创建                     │ │
│  │  - 表单方式创建                     │ │
│  └───────────────────────────────────┘ │
│                                         │
└─────────────────────────────────────────┘
```

**关键点**：
- **移除**对话历史侧边栏（ConversationHistorySidebar）
- **保留**对话界面，但仅用于创建行程（不是首页主界面）
- **突出**三个核心入口，使用卡片式设计

---

### 2. 视觉设计师评估（Visual Designer）

#### 2.1 视觉层级设计

**信息层级**：
1. **一级信息**（最突出）：
   - 继续编辑卡片（如果有未完成行程）
   - 三个核心入口（行程、国家数据库、路线模版）

2. **二级信息**（次要）：
   - 创建行程入口（对话 + 表单）
   - 欢迎信息（新用户）

3. **三级信息**（弱化）：
   - 统计数据、推荐内容

**视觉策略**：
- ✅ **使用卡片式设计**：每个入口使用独立卡片，清晰分隔
- ✅ **统一的视觉语言**：卡片样式、间距、圆角保持一致
- ✅ **克制用色**：避免情绪化大色块，使用中性色 + 强调色（用于关键操作）

#### 2.2 组件设计建议

**ContinueEditingCard（继续编辑卡片）**：
- **位置**：页面顶部，最显眼位置
- **样式**：
  - 背景色：浅色背景（如 `bg-slate-50`）
  - 边框：细边框（`border border-slate-200`）
  - 圆角：中等圆角（`rounded-lg`）
  - 阴影：轻微阴影（`shadow-sm`）
- **内容**：
  - 行程标题（大字号）
  - 最后编辑时间（小字号，灰色）
  - "继续编辑"按钮（主色调，突出显示）

**QuickAccessSection（快捷入口区域）**：
- **布局**：三列网格布局（桌面端），单列（移动端）
- **卡片样式**：
  - 图标 + 标题 + 描述
  - 悬停效果：轻微阴影提升
  - 点击反馈：明确的视觉反馈

**CreateTripSection（创建行程区域）**：
- **布局**：两个并排的入口（对话 + 表单）
- **视觉区分**：
  - 对话入口：使用对话图标，强调"自然语言"
  - 表单入口：使用表单图标，强调"标准流程"

#### 2.3 响应式设计

**桌面端**（≥1024px）：
- 三列网格布局（快捷入口）
- 继续编辑卡片：全宽
- 创建行程：两个并排入口

**平板端**（768px-1023px）：
- 两列网格布局（快捷入口）
- 继续编辑卡片：全宽
- 创建行程：两个并排入口

**移动端**（<768px）：
- 单列布局（所有内容）
- 继续编辑卡片：全宽
- 快捷入口：单列，每个卡片全宽
- 创建行程：两个入口垂直排列

#### 2.4 视觉原则

**必须遵守**：
- ✅ **Clarity over Charm**：清晰优先于讨喜
- ✅ **Evidence is the aesthetic**：信息结构清晰，不是装饰
- ✅ **Decision is a UI primitive**：关键操作突出显示
- ✅ **Quiet confidence**：高级感来自比例、留白、层级

**禁止**：
- ❌ 小红书式种草 UI（大图堆叠、情绪化文案）
- ❌ 卡通拟人设计
- ❌ 炫技动效

---

### 3. 体验设计专家评估（Alex）

#### 3.1 用户旅程分析

**旅程1：回访用户继续编辑**
1. 用户登录 → Dashboard 页面加载
2. **关键决策点**：是否显示"继续编辑"卡片？
   - **条件**：有未完成的行程（`status === 'PLANNING'` 或 `status === 'DRAFT'`）
   - **展示**：显示继续编辑卡片，突出显示
3. 用户点击"继续编辑" → 跳转到规划工作台或行程详情页
4. **摩擦点**：如果用户想创建新行程，需要先关闭或忽略继续编辑卡片

**旅程2：新用户创建行程**
1. 用户登录 → Dashboard 页面加载
2. **关键决策点**：用户选择创建方式（对话 vs 表单）
   - **对话方式**：点击"对话创建" → 打开对话界面
   - **表单方式**：点击"表单创建" → 跳转到表单页面
3. **摩擦点**：新用户可能不知道两种方式的区别

**旅程3：访问核心功能**
1. 用户登录 → Dashboard 页面加载
2. **关键决策点**：用户选择访问哪个功能？
   - 行程：查看我的行程列表
   - 国家数据库：浏览国家知识库
   - 路线模版：查看路线模版
3. **摩擦点**：如果入口不够明显，用户可能找不到

#### 3.2 交互流程设计

**继续编辑卡片交互**：
- **显示条件**：
  - 有未完成的行程（`status === 'PLANNING'` 或 `status === 'DRAFT'`）
  - 最后编辑时间在30天内
- **交互**：
  - 点击卡片 → 跳转到规划工作台（`/dashboard/plan-studio?tripId={tripId}`）
  - 点击"关闭"按钮 → 隐藏卡片（可选：记录用户偏好，不再显示）
  - 悬停效果 → 显示更多信息（行程摘要、进度）

**快捷入口交互**：
- **布局**：三列网格（桌面端），单列（移动端）
- **交互**：
  - 点击卡片 → 跳转到对应页面
  - 悬停效果 → 显示描述信息
  - 键盘导航 → 支持 Tab 键导航

**创建行程入口交互**：
- **对话方式**：
  - 点击"对话创建" → 打开对话界面（可以是 Modal 或全屏）
  - 对话界面仅用于创建行程，不显示对话历史
- **表单方式**：
  - 点击"表单创建" → 跳转到表单页面（`/dashboard/trips/new`）

#### 3.3 渐进式披露

**默认状态**：
- 显示继续编辑卡片（如果有）
- 显示三个核心入口
- 显示创建行程入口

**展开状态**：
- 点击"查看更多" → 显示更多功能（统计数据、推荐内容）

#### 3.4 错误预防

**继续编辑卡片**：
- 如果行程已过期（超过30天），不显示继续编辑卡片
- 如果行程已完成，不显示继续编辑卡片

**创建行程入口**：
- 提供清晰的说明文字，解释两种方式的区别
- 新用户显示引导提示

---

### 4. 人机交互设计专家评估（Dr. Sarah Chen）

#### 4.1 认知负荷分析

**内在认知负荷**：
- **信息复杂度**：
  - 继续编辑卡片：低（单一信息：行程标题 + 编辑时间）
  - 快捷入口：中（三个入口，需要理解每个入口的功能）
  - 创建行程入口：中（两个选项，需要理解区别）
- **优化建议**：
  - ✅ 使用图标 + 文字，降低理解难度
  - ✅ 提供简短描述，帮助用户理解功能
  - ✅ 符合 Miller's Law：每个区域不超过 7 个元素

**外在认知负荷**：
- **界面设计**：
  - 当前设计：对话历史侧边栏可能增加视觉噪音
  - 优化后：移除侧边栏，减少干扰
- **优化建议**：
  - ✅ 使用卡片式设计，清晰分隔不同功能区域
  - ✅ 统一的视觉语言，降低学习成本

**相关认知负荷**：
- **学习成本**：
  - 新用户需要理解三个入口的功能
  - 需要理解对话 vs 表单的区别
- **优化建议**：
  - ✅ 提供上下文帮助（Tooltip、Inline Help）
  - ✅ 首次使用显示引导提示

#### 4.2 信息架构评估

**是否符合 Miller's Law（米勒定律）**：
- ✅ **继续编辑卡片**：单一信息块（符合）
- ✅ **快捷入口**：三个入口（符合，不超过 7 个）
- ✅ **创建行程入口**：两个选项（符合）

**是否符合 Hick's Law（希克定律）**：
- ✅ **快捷入口**：三个选项，决策时间合理
- ✅ **创建行程入口**：两个选项，决策时间合理

**信息层级是否清晰**：
- ✅ **一级信息**：继续编辑卡片（最突出）
- ✅ **二级信息**：快捷入口（次要）
- ✅ **三级信息**：创建行程入口（弱化）

#### 4.3 交互模式评估

**是否符合 Fitts's Law（费茨定律）**：
- ✅ **卡片点击区域**：建议最小 44×44px（移动端）
- ✅ **按钮位置**：放在易于到达的位置（桌面端：鼠标热区，移动端：拇指热区）

**是否符合 Affordance（示能性）**：
- ✅ **卡片设计**：使用阴影、悬停效果，清晰表达可点击
- ✅ **按钮设计**：使用主色调，突出显示

**反馈是否及时清晰**：
- ✅ **点击反馈**：< 100ms 的即时反馈（视觉反馈）
- ✅ **状态反馈**：加载状态、错误状态清晰表达

#### 4.4 可用性问题

**问题1：继续编辑卡片的显示逻辑**
- **问题**：如何判断是否显示继续编辑卡片？
- **建议**：
  - 显示条件：有未完成的行程（`status === 'PLANNING'` 或 `status === 'DRAFT'`）
  - 最后编辑时间在30天内
  - 用户可以选择"不再显示"

**问题2：对话 vs 表单的区别**
- **问题**：用户可能不知道两种方式的区别
- **建议**：
  - 提供清晰的说明文字
  - 新用户显示引导提示
  - 可以使用图标 + 简短描述

**问题3：三个入口的功能理解**
- **问题**：用户可能不知道每个入口的具体功能
- **建议**：
  - 使用图标 + 标题 + 简短描述
  - 提供 Tooltip 或 Inline Help
  - 首次使用显示引导提示

#### 4.5 无障碍设计

**键盘导航**：
- ✅ 支持 Tab 键导航所有可交互元素
- ✅ 支持 Enter 键激活
- ✅ 支持 Esc 键关闭 Modal

**屏幕阅读器支持**：
- ✅ 使用语义化 HTML（`<nav>`、`<main>`、`<section>`）
- ✅ 提供 ARIA 标签（`aria-label`、`aria-describedby`）
- ✅ 状态变化时公告（`aria-live`）

**颜色对比度**：
- ✅ 文本对比度 ≥ 4.5:1（WCAG 2.1 AA）
- ✅ 交互元素对比度 ≥ 3:1

---

## 📊 综合评估结论

### ✅ 一致同意的方案

1. **移除对话历史侧边栏**
   - 所有角色一致同意：对话历史侧边栏在首页不需要，会增加认知负担
   - 对话界面仅用于创建行程，不显示对话历史

2. **显示继续编辑卡片**
   - 所有角色一致同意：如果有未完成的行程，应该显示继续编辑卡片
   - 显示条件：`status === 'PLANNING'` 或 `status === 'DRAFT'`，最后编辑时间在30天内

3. **三个核心入口设计**
   - 所有角色一致同意：使用卡片式设计，三列网格布局（桌面端）
   - 每个入口：图标 + 标题 + 简短描述

4. **创建行程入口**
   - 所有角色一致同意：提供两种方式（对话 + 表单）
   - 需要清晰的说明文字，帮助用户理解区别

### ⚠️ 需要进一步讨论的问题

1. **继续编辑卡片的交互**
   - **问题**：用户是否可以关闭继续编辑卡片？
   - **产品经理建议**：可以关闭，记录用户偏好
   - **体验设计师建议**：可以关闭，但不记录偏好（每次登录都显示）
   - **待确认**：产品决策

2. **对话界面的展示方式**
   - **问题**：对话界面是 Modal 还是全屏？
   - **产品经理建议**：全屏（更好的沉浸式体验）
   - **体验设计师建议**：Modal（可以快速返回）
   - **待确认**：技术实现和用户体验测试

3. **快捷入口的排序**
   - **问题**：三个入口的排序顺序？
   - **产品经理建议**：行程 > 国家数据库 > 路线模版（按使用频率）
   - **待确认**：用户行为数据分析

---

## 🎯 推荐方案

### 信息架构

```
DashboardPage
├── ContinueEditingCard (条件显示)
│   ├── 行程标题
│   ├── 最后编辑时间
│   └── "继续编辑"按钮
│
├── QuickAccessSection
│   ├── TripCard (行程)
│   ├── CountryCard (国家数据库)
│   └── RouteTemplateCard (路线模版)
│
└── CreateTripSection
    ├── ChatCreateButton (对话创建)
    └── FormCreateButton (表单创建)
```

### 布局设计

**桌面端**（≥1024px）：
```
┌─────────────────────────────────────────┐
│  Dashboard TopBar                       │
├─────────────────────────────────────────┤
│  ┌───────────────────────────────────┐ │
│  │  ContinueEditingCard (全宽)        │ │
│  └───────────────────────────────────┘ │
│                                         │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ │
│  │  行程    │ │  国家    │ │  路线    │ │
│  │          │ │  数据库  │ │  模版    │ │
│  └──────────┘ └──────────┘ └──────────┘ │
│                                         │
│  ┌───────────────────────────────────┐ │
│  │  CreateTripSection                 │ │
│  │  [对话创建] [表单创建]              │ │
│  └───────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

### 组件设计

**ContinueEditingCard**：
- 位置：页面顶部
- 样式：浅色背景、细边框、中等圆角、轻微阴影
- 内容：行程标题（大字号）、最后编辑时间（小字号、灰色）、"继续编辑"按钮（主色调）

**QuickAccessSection**：
- 布局：三列网格（桌面端），单列（移动端）
- 卡片样式：图标 + 标题 + 简短描述
- 交互：悬停效果、点击反馈

**CreateTripSection**：
- 布局：两个并排入口（桌面端），垂直排列（移动端）
- 视觉区分：对话入口（对话图标）、表单入口（表单图标）

---

## 📝 实施建议

### 优先级

**P0（必须）**：
1. ✅ 移除对话历史侧边栏
2. ✅ 实现继续编辑卡片
3. ✅ 实现三个核心入口（行程、国家数据库、路线模版）
4. ✅ 实现创建行程入口（对话 + 表单）

**P1（重要）**：
1. ⚠️ 优化响应式设计（移动端适配）
2. ⚠️ 添加引导提示（新用户）
3. ⚠️ 添加 Tooltip 和 Inline Help

**P2（可选）**：
1. 📝 添加统计数据展示
2. 📝 添加推荐内容

### 技术实现

**文件修改**：
- `src/pages/Dashboard.tsx`：主页面组件
- `src/components/dashboard/ContinueEditingCard.tsx`：继续编辑卡片（新建）
- `src/components/dashboard/QuickAccessSection.tsx`：快捷入口区域（修改）
- `src/components/layout/DashboardLayout.tsx`：移除对话历史侧边栏

**API 调用**：
- `tripsApi.getAll()`：获取行程列表，筛选未完成的行程
- `tripsApi.getById(tripId)`：获取行程详情（继续编辑时）

---

## ✅ 验收标准

### 功能验收

1. ✅ **继续编辑卡片**：
   - 有未完成行程时显示
   - 点击后跳转到规划工作台
   - 可以关闭（可选）

2. ✅ **快捷入口**：
   - 三个入口清晰可见
   - 点击后跳转到对应页面
   - 支持键盘导航

3. ✅ **创建行程入口**：
   - 两种方式（对话 + 表单）清晰可见
   - 点击后正确跳转
   - 新用户显示引导提示

### 体验验收

1. ✅ **认知负荷**：
   - 信息层级清晰
   - 符合 Miller's Law（不超过 7 个元素）
   - 符合 Hick's Law（选择数量合理）

2. ✅ **可用性**：
   - 关键操作易于发现和理解
   - 支持键盘导航
   - 支持屏幕阅读器

3. ✅ **响应式**：
   - 桌面端、平板端、移动端都有良好体验
   - 布局自适应

---

## 🔗 相关文档

- [Dashboard重新设计-完整方案.md](./Dashboard重新设计-完整方案.md)
- [Dashboard重新设计-PRD.md](./Dashboard重新设计-PRD.md)
- [快捷入口改造-多角色评估报告.md](./快捷入口改造-多角色评估报告.md)

---

---

## 📝 各角色详细评估

### 产品经理评估（Danny）

#### 产品目标与用户场景

**核心产品目标**：
1. **快速恢复工作**：用户能够快速找到并继续上次编辑的行程
2. **清晰的功能入口**：行程、国家数据库、路线模版入口清晰可见
3. **降低认知负担**：避免信息过载，突出关键功能

**用户场景优先级**：

**场景1：回访用户（有未完成行程）** - **P0优先级**
- **用户目标**：继续编辑上次未完成的行程
- **当前痛点**：对话历史侧边栏干扰，需要更直接的"继续编辑"入口
- **解决方案**：
  - 首页顶部显示"继续编辑"卡片（显示上次编辑的行程信息）
  - 显示条件：`status === 'PLANNING'` 或 `status === 'DRAFT'`，最后编辑时间在30天内
  - 点击后直接跳转到规划工作台（`/dashboard/plan-studio?tripId={tripId}`）

**场景2：新用户（无行程）** - **P0优先级**
- **用户目标**：了解功能，开始创建第一个行程
- **当前痛点**：需要引导用户了解可用功能
- **解决方案**：
  - 显示欢迎区域和功能介绍
  - 提供清晰的"创建行程"入口（对话 + 表单两种方式）
  - 首次使用显示引导提示

**场景3：熟练用户（有多个行程）** - **P1优先级**
- **用户目标**：快速访问常用功能（行程列表、国家数据库、路线模版）
- **当前痛点**：入口可能不够明显
- **解决方案**：
  - 快捷入口区域突出显示三个核心入口
  - 支持快速搜索和筛选（P2）

#### 功能优先级

**P0（必须实现）**：
1. ✅ **移除对话历史侧边栏**：在 Dashboard 页面不显示 `ConversationHistorySidebar`
2. ✅ **继续编辑卡片**：显示未完成行程，支持快速跳转
3. ✅ **三个核心入口**：行程、国家数据库、路线模版
4. ✅ **创建行程入口**：对话方式 + 表单方式

**P1（重要）**：
1. ⚠️ **今日任务/待办事项**：如果有待办，显示提醒
2. ⚠️ **最近访问的行程**：快速访问最近编辑的行程（最多3个）

**P2（可选）**：
1. 📝 **功能推荐/引导**：新用户引导
2. 📝 **统计数据展示**：行程统计、使用情况

#### 信息架构设计

**推荐布局结构**：
```
DashboardPage (src/pages/Dashboard.tsx)
├── ContinueEditingCard (条件显示)
│   ├── 行程标题（大字号）
│   ├── 最后编辑时间（小字号，灰色）
│   ├── 行程状态/进度（可选）
│   └── "继续编辑"按钮（主色调）
│
├── QuickAccessSection
│   ├── TripCard
│   │   ├── 图标：MapPin 或 List
│   │   ├── 标题："我的行程"
│   │   ├── 描述："查看和管理所有行程"
│   │   └── 路由：/dashboard/trips
│   │
│   ├── CountryCard
│   │   ├── 图标：Globe 或 Map
│   │   ├── 标题："国家数据库"
│   │   ├── 描述："浏览国家知识库和目的地信息"
│   │   └── 路由：/dashboard/countries
│   │
│   └── RouteTemplateCard
│       ├── 图标：Route 或 Navigation
│       ├── 标题："路线模版"
│       ├── 描述："查看和选择路线模版"
│       └── 路由：/dashboard/route-directions/templates
│
└── CreateTripSection
    ├── ChatCreateButton
    │   ├── 图标：MessageSquare 或 Sparkles
    │   ├── 标题："对话创建"
    │   ├── 描述："通过自然语言对话创建行程"
    │   └── 交互：打开对话界面（Modal 或全屏）
    │
    └── FormCreateButton
        ├── 图标：FileText 或 FormInput
        ├── 标题："表单创建"
        ├── 描述："使用标准表单创建行程"
        └── 路由：/dashboard/trips/new
```

#### 数据需求

**继续编辑卡片数据**：
- 需要调用 `tripsApi.getAll()` 获取所有行程
- 筛选条件：
  - `status === 'PLANNING'` 或 `status === 'DRAFT'`
  - `updatedAt` 在30天内
  - 按 `updatedAt` 降序排序，取第一个

**快捷入口数据**：
- 行程入口：显示行程总数（可选）
- 国家数据库：显示国家总数（可选）
- 路线模版：显示模版总数（可选）

#### 验收标准

**功能验收**：
1. ✅ 有未完成行程时，继续编辑卡片显示在页面顶部
2. ✅ 点击"继续编辑"按钮，跳转到规划工作台
3. ✅ 三个核心入口清晰可见，点击后正确跳转
4. ✅ 创建行程入口提供两种方式，点击后正确跳转

**体验验收**：
1. ✅ 信息层级清晰，关键功能突出
2. ✅ 符合 Miller's Law（每个区域不超过 7 个元素）
3. ✅ 符合 Hick's Law（选择数量合理）

---

### 视觉设计师评估（Visual Designer）

#### 视觉层级设计

**信息层级（从高到低）**：

1. **一级信息**（最突出，视觉权重最高）：
   - **继续编辑卡片**：如果有未完成行程，使用**主色调背景**或**强调色边框**，占据页面顶部最显眼位置
   - **三个核心入口**：使用**卡片式设计**，**统一视觉语言**，**图标 + 标题 + 描述**的布局

2. **二级信息**（次要，视觉权重中等）：
   - **创建行程入口**：使用**按钮式设计**，两个入口并排，**视觉区分**（对话 vs 表单）

3. **三级信息**（弱化，视觉权重最低）：
   - **欢迎信息**：新用户显示，使用**浅色背景**，**不抢夺焦点**

**视觉策略**：
- ✅ **使用卡片式设计**：每个入口使用独立卡片，清晰分隔
- ✅ **统一的视觉语言**：卡片样式、间距、圆角保持一致
- ✅ **克制用色**：避免情绪化大色块，使用中性色 + 强调色（用于关键操作）
- ✅ **清晰的视觉层级**：通过大小、颜色、间距建立层级关系

#### 组件设计规范

**ContinueEditingCard（继续编辑卡片）**：

**位置**：页面顶部，最显眼位置（`margin-top: 0`）

**样式规范**：
```css
/* 背景和边框 */
background: bg-slate-50 或 bg-blue-50（主色调浅色）
border: border border-slate-200 或 border-blue-200
border-radius: rounded-lg（8px）
box-shadow: shadow-sm（轻微阴影）

/* 内边距 */
padding: p-6（24px）

/* 内容布局 */
display: flex
flex-direction: column（垂直布局）
gap: gap-4（16px）
```

**内容设计**：
- **行程标题**：`text-2xl font-semibold text-gray-900`（大字号，粗体）
- **最后编辑时间**：`text-sm text-gray-500`（小字号，灰色）
- **"继续编辑"按钮**：`bg-blue-600 hover:bg-blue-700 text-white`（主色调，突出显示）

**QuickAccessSection（快捷入口区域）**：

**布局规范**：
```css
/* 桌面端：三列网格 */
display: grid
grid-template-columns: repeat(3, 1fr)
gap: gap-6（24px）

/* 平板端：两列网格 */
@media (max-width: 1023px) {
  grid-template-columns: repeat(2, 1fr)
}

/* 移动端：单列 */
@media (max-width: 767px) {
  grid-template-columns: 1fr
}
```

**卡片样式规范**：
```css
/* 基础样式 */
background: bg-white
border: border border-slate-200
border-radius: rounded-lg（8px）
box-shadow: shadow-sm
padding: p-6（24px）

/* 悬停效果 */
hover:shadow-md（阴影提升）
hover:border-slate-300（边框颜色加深）
transition: transition-all duration-200

/* 内容布局 */
display: flex
flex-direction: column
align-items: center（图标居中）
text-align: center
gap: gap-4（16px）
```

**卡片内容设计**：
- **图标**：`w-12 h-12`（48×48px），使用 `lucide-react` 图标库
- **标题**：`text-lg font-semibold text-gray-900`（中等字号，粗体）
- **描述**：`text-sm text-gray-600`（小字号，灰色）
- **点击区域**：整个卡片可点击，使用 `cursor-pointer`

**CreateTripSection（创建行程区域）**：

**布局规范**：
```css
/* 桌面端：两个并排按钮 */
display: flex
flex-direction: row
gap: gap-4（16px）

/* 移动端：垂直排列 */
@media (max-width: 767px) {
  flex-direction: column
}
```

**按钮样式规范**：
```css
/* 对话创建按钮 */
background: bg-gradient-to-r from-blue-500 to-indigo-600
text: text-white
border-radius: rounded-lg
padding: px-6 py-4
font-size: text-base font-semibold

/* 表单创建按钮 */
background: bg-white
border: border-2 border-slate-300
text: text-gray-900
border-radius: rounded-lg
padding: px-6 py-4
font-size: text-base font-semibold
hover:bg-slate-50
```

#### 响应式设计

**桌面端**（≥1024px）：
- 继续编辑卡片：全宽，`max-width: 1200px`，居中
- 快捷入口：三列网格，`gap: 24px`
- 创建行程：两个并排按钮，`gap: 16px`

**平板端**（768px-1023px）：
- 继续编辑卡片：全宽，`padding: 20px`
- 快捷入口：两列网格，`gap: 20px`
- 创建行程：两个并排按钮，`gap: 12px`

**移动端**（<768px）：
- 继续编辑卡片：全宽，`padding: 16px`
- 快捷入口：单列，每个卡片全宽，`gap: 16px`
- 创建行程：两个按钮垂直排列，`gap: 12px`

#### 视觉原则遵守

**必须遵守**：
- ✅ **Clarity over Charm**：清晰优先于讨喜
- ✅ **Evidence is the aesthetic**：信息结构清晰，不是装饰
- ✅ **Decision is a UI primitive**：关键操作突出显示
- ✅ **Quiet confidence**：高级感来自比例、留白、层级

**禁止**：
- ❌ 小红书式种草 UI（大图堆叠、情绪化文案）
- ❌ 卡通拟人设计
- ❌ 炫技动效

---

### 体验设计专家评估（Alex）

#### 用户旅程设计

**旅程1：回访用户继续编辑**

**流程步骤**：
1. 用户登录 → Dashboard 页面加载
2. **系统判断**：检查是否有未完成的行程
   - **条件**：`status === 'PLANNING'` 或 `status === 'DRAFT'`，`updatedAt` 在30天内
   - **结果**：如果有，显示继续编辑卡片；如果没有，显示欢迎信息和创建入口
3. **用户操作**：点击"继续编辑"按钮
4. **系统响应**：跳转到规划工作台（`/dashboard/plan-studio?tripId={tripId}`）
5. **用户目标达成**：继续编辑行程

**关键决策点**：
- **决策点1**：是否显示继续编辑卡片？
  - **规则**：有未完成行程且最后编辑时间在30天内
  - **用户影响**：如果显示，用户可以直接继续编辑；如果不显示，用户需要手动查找行程

**摩擦点识别**：
- **摩擦点1**：如果用户想创建新行程，继续编辑卡片可能干扰
  - **解决方案**：提供"关闭"按钮（可选），或创建入口始终可见
- **摩擦点2**：如果用户有多个未完成行程，只显示一个可能不够
  - **解决方案**：显示"最近编辑"的行程，或提供"查看所有行程"链接

**旅程2：新用户创建行程**

**流程步骤**：
1. 用户登录 → Dashboard 页面加载
2. **系统判断**：检查是否有行程
   - **条件**：`trips.length === 0`
   - **结果**：显示欢迎信息和创建入口
3. **用户决策**：选择创建方式（对话 vs 表单）
   - **对话方式**：点击"对话创建" → 打开对话界面
   - **表单方式**：点击"表单创建" → 跳转到表单页面
4. **用户目标达成**：开始创建行程

**关键决策点**：
- **决策点1**：用户选择创建方式
  - **影响因素**：用户对两种方式的理解程度
  - **优化建议**：提供清晰的说明文字，新用户显示引导提示

**摩擦点识别**：
- **摩擦点1**：新用户可能不知道两种方式的区别
  - **解决方案**：提供清晰的说明文字，使用图标 + 简短描述
- **摩擦点2**：新用户可能不知道从哪里开始
  - **解决方案**：显示欢迎信息和功能介绍，提供引导提示

**旅程3：访问核心功能**

**流程步骤**：
1. 用户登录 → Dashboard 页面加载
2. **用户决策**：选择访问哪个功能？
   - **行程**：查看我的行程列表
   - **国家数据库**：浏览国家知识库
   - **路线模版**：查看路线模版
3. **用户操作**：点击对应入口
4. **系统响应**：跳转到对应页面
5. **用户目标达成**：访问目标功能

**关键决策点**：
- **决策点1**：用户选择访问哪个功能？
  - **影响因素**：入口的可见性和理解度
  - **优化建议**：使用图标 + 标题 + 简短描述，提高可理解性

**摩擦点识别**：
- **摩擦点1**：如果入口不够明显，用户可能找不到
  - **解决方案**：使用卡片式设计，突出显示，支持搜索（P2）

#### 交互流程设计

**继续编辑卡片交互**：

**显示逻辑**：
```typescript
// 伪代码
const shouldShowContinueEditing = () => {
  const unfinishedTrips = trips.filter(trip => 
    (trip.status === 'PLANNING' || trip.status === 'DRAFT') &&
    isWithin30Days(trip.updatedAt)
  );
  
  return unfinishedTrips.length > 0;
};

const getContinueEditingTrip = () => {
  return unfinishedTrips
    .sort((a, b) => new Date(b.updatedAt) - new Date(a.updatedAt))[0];
};
```

**交互设计**：
- **点击卡片**：跳转到规划工作台（`/dashboard/plan-studio?tripId={tripId}`）
- **点击"关闭"按钮**（可选）：隐藏卡片，记录用户偏好（`localStorage`）
- **悬停效果**：显示更多信息（行程摘要、进度、最后编辑时间）

**快捷入口交互**：

**布局**：
- **桌面端**：三列网格，`gap: 24px`
- **平板端**：两列网格，`gap: 20px`
- **移动端**：单列，每个卡片全宽

**交互设计**：
- **点击卡片**：跳转到对应页面
- **悬停效果**：显示描述信息（Tooltip 或卡片内描述）
- **键盘导航**：支持 Tab 键导航，Enter 键激活

**创建行程入口交互**：

**对话方式**：
- **点击"对话创建"**：打开对话界面
  - **方式1**：Modal（可以快速返回）
  - **方式2**：全屏（更好的沉浸式体验）
  - **待确认**：产品决策和技术实现
- **对话界面**：仅用于创建行程，不显示对话历史

**表单方式**：
- **点击"表单创建"**：跳转到表单页面（`/dashboard/trips/new`）

#### 渐进式披露

**默认状态**：
- 显示继续编辑卡片（如果有）
- 显示三个核心入口
- 显示创建行程入口

**展开状态**（P2）：
- 点击"查看更多" → 显示更多功能（统计数据、推荐内容、最近访问的行程）

#### 错误预防

**继续编辑卡片**：
- 如果行程已过期（超过30天），不显示继续编辑卡片
- 如果行程已完成（`status === 'COMPLETED'`），不显示继续编辑卡片
- 如果行程不存在，显示错误提示（降级处理）

**创建行程入口**：
- 提供清晰的说明文字，解释两种方式的区别
- 新用户显示引导提示（Tooltip 或 Inline Help）
- 如果对话界面加载失败，显示错误提示和降级方案（跳转到表单）

---

### 人机交互设计专家评估（Dr. Sarah Chen）

#### 认知负荷分析

**内在认知负荷（Intrinsic Cognitive Load）**：

**信息复杂度评估**：
1. **继续编辑卡片**：**低复杂度**
   - 信息量：行程标题 + 最后编辑时间 + 按钮
   - 理解难度：低（用户熟悉"继续编辑"概念）
   - **符合 Miller's Law**：单一信息块（1个元素）

2. **快捷入口**：**中等复杂度**
   - 信息量：3个入口，每个入口包含图标 + 标题 + 描述
   - 理解难度：中（需要理解每个入口的功能）
   - **符合 Miller's Law**：3个入口（不超过 7 个）

3. **创建行程入口**：**中等复杂度**
   - 信息量：2个选项，每个选项包含图标 + 标题 + 描述
   - 理解难度：中（需要理解对话 vs 表单的区别）
   - **符合 Miller's Law**：2个选项（不超过 7 个）

**优化建议**：
- ✅ 使用图标 + 文字，降低理解难度（符合**双重编码理论**）
- ✅ 提供简短描述，帮助用户理解功能
- ✅ 符合 Miller's Law：每个区域不超过 7 个元素

**外在认知负荷（Extraneous Cognitive Load）**：

**界面设计评估**：
- **当前设计**：对话历史侧边栏可能增加视觉噪音
- **优化后**：移除侧边栏，减少干扰
- **优化效果**：降低外在认知负荷，提高信息处理效率

**优化建议**：
- ✅ 使用卡片式设计，清晰分隔不同功能区域
- ✅ 统一的视觉语言，降低学习成本
- ✅ 减少视觉噪音，突出关键信息

**相关认知负荷（Germane Cognitive Load）**：

**学习成本评估**：
- **新用户**：需要理解三个入口的功能，需要理解对话 vs 表单的区别
- **学习难度**：中等（需要一定的学习时间）
- **学习支持**：提供上下文帮助（Tooltip、Inline Help）、首次使用显示引导提示

**优化建议**：
- ✅ 提供上下文帮助（Tooltip、Inline Help）
- ✅ 首次使用显示引导提示
- ✅ 使用一致的交互模式，降低学习成本

#### 信息架构评估

**是否符合 Miller's Law（米勒定律）**：

**评估结果**：
- ✅ **继续编辑卡片**：单一信息块（1个元素）✅ 符合
- ✅ **快捷入口**：3个入口（不超过 7 个）✅ 符合
- ✅ **创建行程入口**：2个选项（不超过 7 个）✅ 符合

**总体评估**：**符合 Miller's Law**，信息分块合理

**是否符合 Hick's Law（希克定律）**：

**评估结果**：
- ✅ **快捷入口**：3个选项，决策时间合理（约 1-2 秒）
- ✅ **创建行程入口**：2个选项，决策时间合理（约 0.5-1 秒）

**总体评估**：**符合 Hick's Law**，选择数量合理

**信息层级是否清晰**：

**评估结果**：
- ✅ **一级信息**：继续编辑卡片（最突出，视觉权重最高）
- ✅ **二级信息**：快捷入口（次要，视觉权重中等）
- ✅ **三级信息**：创建行程入口（弱化，视觉权重最低）

**总体评估**：**信息层级清晰**，符合认知科学原理

#### 交互模式评估

**是否符合 Fitts's Law（费茨定律）**：

**评估结果**：
- ✅ **卡片点击区域**：建议最小 44×44px（移动端），实际设计：整个卡片可点击 ✅ 符合
- ✅ **按钮位置**：放在易于到达的位置（桌面端：鼠标热区，移动端：拇指热区）✅ 符合

**总体评估**：**符合 Fitts's Law**，交互目标易于点击

**是否符合 Affordance（示能性）**：

**评估结果**：
- ✅ **卡片设计**：使用阴影、悬停效果，清晰表达可点击 ✅ 符合
- ✅ **按钮设计**：使用主色调，突出显示 ✅ 符合

**总体评估**：**符合 Affordance 原则**，功能清晰可辨

**反馈是否及时清晰**：

**评估结果**：
- ✅ **点击反馈**：< 100ms 的即时反馈（视觉反馈：悬停效果、点击动画）✅ 符合
- ✅ **状态反馈**：加载状态、错误状态清晰表达 ✅ 符合

**总体评估**：**反馈及时清晰**，符合认知科学原理

#### 可用性问题

**问题1：继续编辑卡片的显示逻辑**

**问题描述**：
- 如何判断是否显示继续编辑卡片？
- 如果有多个未完成行程，显示哪个？

**认知科学分析**：
- **涉及理论**：Miller's Law（信息分块）、Hick's Law（选择数量）
- **问题**：如果显示多个行程，会增加认知负荷和决策时间

**建议方案**：
- **方案1（推荐）**：只显示最近编辑的行程（符合**认知科学**中的"最近使用"原理）
- **方案2**：显示多个行程（最多3个），但会增加认知负荷
- **显示条件**：
  - `status === 'PLANNING'` 或 `status === 'DRAFT'`
  - `updatedAt` 在30天内
  - 按 `updatedAt` 降序排序，取第一个

**问题2：对话 vs 表单的区别**

**问题描述**：
- 用户可能不知道两种方式的区别
- 新用户可能不知道选择哪个

**认知科学分析**：
- **涉及理论**：双重编码理论（图标 + 文字）、示能性（功能清晰可辨）
- **问题**：如果用户不理解区别，会增加认知负荷和决策时间

**建议方案**：
- **方案1（推荐）**：提供清晰的说明文字，使用图标 + 简短描述
- **方案2**：新用户显示引导提示（Tooltip 或 Inline Help）
- **方案3**：使用对比式设计，突出两种方式的区别

**问题3：三个入口的功能理解**

**问题描述**：
- 用户可能不知道每个入口的具体功能
- 新用户可能需要学习成本

**认知科学分析**：
- **涉及理论**：双重编码理论（图标 + 文字）、示能性（功能清晰可辨）
- **问题**：如果用户不理解功能，会增加认知负荷和学习成本

**建议方案**：
- **方案1（推荐）**：使用图标 + 标题 + 简短描述，提高可理解性
- **方案2**：提供 Tooltip 或 Inline Help，提供更多上下文信息
- **方案3**：首次使用显示引导提示，帮助用户理解功能

#### 无障碍设计

**键盘导航**：
- ✅ 支持 Tab 键导航所有可交互元素
- ✅ 支持 Enter 键激活（点击卡片或按钮）
- ✅ 支持 Esc 键关闭 Modal（如果有）
- ✅ 焦点状态清晰可见（使用 `focus:ring-2 focus:ring-blue-500`）

**屏幕阅读器支持**：
- ✅ 使用语义化 HTML（`<nav>`、`<main>`、`<section>`）
- ✅ 提供 ARIA 标签（`aria-label`、`aria-describedby`）
- ✅ 状态变化时公告（`aria-live="polite"`）

**颜色对比度**：
- ✅ 文本对比度 ≥ 4.5:1（WCAG 2.1 AA）
- ✅ 交互元素对比度 ≥ 3:1
- ✅ 不依赖颜色传达信息（使用图标 + 文字）

---

**状态**：✅ 多角色评估完成，等待产品决策和实施
