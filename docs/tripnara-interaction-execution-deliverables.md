# TripNARA 新一代交互哲学：人机交互设计专家 & 产品经理执行产出

**文档类型**：执行级设计产出  
**依据**：`tripnara-interaction-philosophy-prd.md`  
**编制**：人机交互设计专家 + 产品经理  
**版本**：1.0  
**最后更新**：2026-02-15

---

## 一、产品经理：用户故事（对齐交互哲学 PRD）

### 1.1 核心用户故事（P0，必须满足）

| ID | 用户故事 | 验收标准 | 对应 PRD 原则 |
|----|----------|----------|---------------|
| **US-N01** | 作为用户，进入行程页后**3 秒内**能回答「现在情况如何」 | 唯一状态区可见；仅一个核心结论（如「建议优化后继续 评分 78」） | 单决策、单状态 |
| **US-N02** | 作为用户，我能立即知道**下一步做什么** | 唯一主按钮可见（一键优化 / 应用优化 / 开始导航 之一） | 单决策、单操作 |
| **US-N03** | 作为用户，系统**替我判断**，我只需确认 | 文案为「我已经判断好了」式；不出现「请自行分析」「多个指标供参考」 | AI 主导 |
| **US-N04** | 作为用户，默认只看到**结论**，想看原因再展开 | 分析详情折叠；展开后才有安全/节奏/预算等子维度 | 渐进揭示 |
| **US-N05** | 作为用户，每屏**只有一个主按钮** | 无「评估」「优化」「协商」「权重」等多按钮并列 | 单操作、按钮哲学 |

### 1.2 健康度相关用户故事

| ID | 用户故事 | 验收标准 | 对应 PRD |
|----|----------|----------|----------|
| **US-N06** | 作为用户，我只关心**一个评分** | 仅展示「行程评分 92 优秀」；可执行度/成本/风险/缓冲不并列 | 健康度单一 |
| **US-N07** | 作为用户，子维度**按需查看** | 点击「展开」后才出现安全 90、节奏 88 等 | 渐进揭示 |

### 1.3 智能优化页用户故事

| ID | 用户故事 | 验收标准 | 对应 PRD |
|----|----------|----------|----------|
| **US-N08** | 作为用户，智能优化页**像助手**，不像控制台 | 无多 Tab；流程为：评估中 → 问题发现 → 应用优化 | AI 助手模式 |
| **US-N09** | 作为用户，优化页**主按钮只有一个** | 默认模式：「应用优化」；结果页：「查看调整详情」 | 单操作 |
| **US-N10** | 作为用户，**普通模式**下看不到权重/协商/团队 | 上述入口仅在「高级设置」内 | 专业模式隐藏 |

### 1.4 实时状态用户故事

| ID | 用户故事 | 验收标准 | 对应 PRD |
|----|----------|----------|----------|
| **US-N11** | 作为用户，**正常时**不被打扰 | 仅显示「环境状况良好」或等效一句话 | 风险显性 |
| **US-N12** | 作为用户，**异常时**收到明确建议 | 如「下午可能大风，建议提前返回」；只展示决策相关 | 风险显性 |

### 1.5 文案与人格用户故事

| ID | 用户故事 | 验收标准 | 对应 PRD |
|----|----------|----------|----------|
| **US-N13** | 作为用户，文案**像助手**，不像系统 | 如「今天可能会有点累，我帮你优化一下」而非「检测到疲劳指数较高」 | AI 人格 |

---

## 二、产品经理：验收清单（可直接用于 QA）

### 2.1 单决策原则

- [ ] 页面顶部是否只有**一个**核心状态结论？
- [ ] 用户能否在 3 秒内回答「现在情况如何」？
- [ ] 用户能否在 3 秒内回答「下一步做什么」？

### 2.2 单操作原则

- [ ] 每屏主按钮是否**≤ 1** 个？
- [ ] 主按钮是否为「创建行程」「一键优化」「开始导航」之一？

### 2.3 渐进揭示原则

- [ ] 分析详情（安全/节奏/预算等）是否默认折叠？
- [ ] 健康度子维度是否默认隐藏？

### 2.4 专业模式隐藏

- [ ] 权重、协商、团队入口是否仅在「高级设置」内？
- [ ] 普通用户路径是否不可见上述入口？

### 2.5 黄金流程

- [ ] 进入行程 → 看到状态 → 看到建议 → 点击优化 → 确认 → 完成
- [ ] 理解时间是否 ≤ 5 秒？
- [ ] 完成优化是否 ≤ 1 次点击（不含确认）？

---

## 三、人机交互设计专家：与现有实现的差距分析

### 3.1 行程详情页

| PRD 要求 | 当前实现 | 差距 | 改造优先级 |
|----------|----------|------|------------|
| 唯一状态区 | 健康度条 + 可执行度/成本/风险/缓冲 4 框并列 | 多状态、多指标 | P0 |
| AI 建议区为主操作区 | 助手中心、综合视图、4 Tab 详情 | 无明确「AI 建议」主区 | P0 |
| 单主按钮 | 创建行程项、进入规划工作台、查看问题、查看分析 等 | 多按钮 | P0 |
| 分析详情折叠 | 综合视图 + 按需展开 4 视角 | 已部分符合 | P1 微调 |
| 今日计划区 | 路线骨架图、DayItineraryCard | 结构已有，需突出「今日」 | P1 |

### 3.2 智能优化 Tab

| PRD 要求 | 当前实现 | 差距 | 改造优先级 |
|----------|----------|------|------------|
| AI 助手模式 | 一键优化 + 评估/权重/优化/协商 多按钮 + 4 Tab | 控制台模式 | P0 |
| 单主按钮 | 多按钮并列 | 严重不符 | P0 |
| 流程：评估中→问题→应用 | 需用户主动点评估、优化 | 非流程驱动 | P0 |
| 专业模式隐藏 | 权重、协商、团队直接可见 | 严重不符 | P0 |

### 3.3 健康度展示

| PRD 要求 | 当前实现 | 差距 | 改造优先级 |
|----------|----------|------|------------|
| 仅一个「行程评分」 | 健康度 + 4 框（可执行度/成本/风险/缓冲） | 多指标并列 | P0 |
| 子维度折叠 | 4 框常显 | 不符 | P0 |

### 3.4 实时状态

| PRD 要求 | 当前实现 | 差距 | 改造优先级 |
|----------|----------|------|------------|
| 正常时一句话 | 风速、降水、路况、疲劳、高反等并列 | 信息过载 | P0 |
| 异常时显性 | 有 Alert 机制 | 可保留，需收敛入口 | P1 |

---

## 四、人机交互设计专家：新 IA 落地方案

### 4.1 行程页新结构（目标态）

```
┌─────────────────────────────────────────────────────────────┐
│ 【唯一状态区】                                               │
│ 西峡湾自驾 · Day 2                                           │
│ ⚠️ 建议优化后继续  当前评分 78  存在 2 个潜在问题            │
└─────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────┐
│ 【AI 建议区】（主操作区）                                     │
│ AI发现可以优化的地方：                                       │
│ 1️⃣ 今日驾驶时间较长（5.5h）可能产生疲劳风险                  │
│ 2️⃣ 下午天气不稳定，建议调整停留顺序                          │
│ 优化后预计体验提升 23%                                       │
│                                                              │
│ [ 一键优化行程 ]  ← 唯一主按钮                               │
└─────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────┐
│ 【今日计划】                                                 │
│ 08:30 出发 | 10:00 景点A | 13:00 午餐 | 16:30 酒店          │
└─────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────┐
│ 【行程时间线】  保留现有                                     │
└─────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────┐
│ [ 展开：查看分析 ]  ← 折叠，点击后出现安全/节奏/预算等         │
└─────────────────────────────────────────────────────────────┘
```

### 4.2 智能优化页新结构（目标态）

```
┌─────────────────────────────────────────────────────────────┐
│ 正在评估你的行程…                                            │
│                                                              │
│ 当前评分：38                                                 │
│                                                              │
│ 问题发现：                                                   │
│ • Day2 疲劳风险高                                            │
│ • 海拔变化过快                                               │
│                                                              │
│ 已生成优化方案  预计提升：+41                                │
│                                                              │
│ [ 应用优化 ]  ← 唯一主按钮                                   │
└─────────────────────────────────────────────────────────────┘
```

**专业模式**：入口「高级设置」→ 权重、协商、团队、参数。

### 4.3 删除/隐藏清单

| 元素 | 操作 | 说明 |
|------|------|------|
| 健康度 4 框并列（可执行度/成本/风险/缓冲） | 删除或收拢 | 仅保留「行程评分」 |
| 评估、权重、优化、协商 多按钮 | 收拢 | 仅保留「一键优化」或「应用优化」 |
| 权重入口直露 | 移至高级设置 | 普通用户不可见 |
| 安全/节奏/修复/智能优化 4 Tab 平铺 | 折叠 | 默认「展开：查看分析」 |
| 评估/协商/团队 Tab | 移至高级设置 | 专业模式 |

---

## 五、人机交互设计专家：交互流程（黄金路径）

### 5.1 进入行程 → 完成优化（目标路径）

```
用户进入行程页
    │
    ├─ 3 秒内：看到「当前评分 X」「建议优化后继续」（单状态）
    │
    ├─ 看到「AI 发现 2 个可优化点」+ 简要说明（结论优先）
    │
    ├─ 看到唯一主按钮「一键优化行程」
    │
    ├─ 点击
    │
    ├─ 进入智能优化流程（或弹层）：评估中 → 问题 → 应用优化
    │
    ├─ 点击「应用优化」
    │
    └─ 完成。可选「查看调整详情」（次级）
```

**度量**：理解 ≤ 5 秒，完成 ≤ 1 次主点击（不含确认）。

### 5.2 异常分支

| 场景 | 处理 |
|------|------|
| 用户想调权重 | 引导至「高级设置」 |
| 用户想团队协商 | 引导至「高级设置」 |
| 用户想查安全细节 | 「展开：查看分析」→ 安全视角 |

---

## 六、实施优先级（产品经理建议）

| 阶段 | 内容 | 对应 US | 预估工作量 |
|------|------|---------|------------|
| **Phase 1** | 健康度收拢为单一「行程评分」；4 框移至折叠 | US-N06, US-N07 | 中 |
| **Phase 2** | 智能优化页改为 AI 助手模式；单主按钮；专业模式隐藏 | US-N08, US-N09, US-N10 | 高 |
| **Phase 3** | 行程页唯一状态区 + AI 建议区 + 单主按钮 | US-N01, US-N02, US-N05 | 高 |
| **Phase 4** | 实时状态只显示异常；文案 AI 人格化 | US-N11, US-N12, US-N13 | 中 |

---

## 七、与现有文档的衔接

| 文档 | 本产出与它的关系 |
|------|------------------|
| `tripnara-interaction-philosophy-prd.md` | 本产出的依据 |
| `planning-tab-user-stories-and-hci-design.md` | 本产出覆盖并升级其用户故事与 IA |
| `user-optimization-v2-prd.md` | 功能 PRD 不变，交互按本产出执行 |

**执行顺序建议**：先完成本产出的 Phase 1–2，再迭代 Phase 3–4；过程中以交互哲学 PRD 为准做设计评审。

---

## 八、产品经理：协商结论用户可读性改造（US-N13 延伸）

**问题**：当前「协商」Tab 展示「三守护者」「效用值」「Abu/Dr.Dre/Neptune」「NEPTUNE 支持 vs DRE 反对」等内部术语，用户难以理解。

### 8.1 术语映射（内部 → 用户可读）

| 当前展示 | 用户可读替代 | 说明 |
|----------|--------------|------|
| 三守护者协商评估结果 | **综合评估结论** | 去掉「守护者」概念 |
| 共识度 85% | **方案认可度 85%** 或保持 | 可选加 tooltip「三个评估维度达成一致程度」 |
| 效用值 64 / 42 / 68 | **综合评分 64** 或 **安全 64 / 节奏 42 / 修复 68** | 用「评分」替代「效用值」 |
| Abu · 安全守护者 | **安全** 或 **安全维度** | 不展示 Abu 代号 |
| Dr.Dre · 节奏守护者 | **节奏** 或 **节奏维度** | 不展示 Dre 代号 |
| Neptune · 修复守护者 | **修复** 或 **修复维度** | 不展示 Neptune 代号 |
| 投票结果 2 / 0 / -1 | **2 赞成 · 0 反对 · 1 弃权** | 弃权须带标签，避免裸数字 -1 |
| NEPTUNE 支持 vs DRE 反对 | **安全与节奏存在权衡** 或 **部分维度建议调整** | 用业务语义，不出现角色名 |

### 8.2 默认展示（结论优先）

**当前**：协商结论、共识度、投票、守护者评估、关键权衡点 平铺。

**目标**：
- **主结论**：一句结论 + 主按钮（批准 / 附条件批准 / 需调整）
- **次级**：「展开：查看评估详情」→ 安全/节奏/修复 评分、分歧说明

### 8.3 关键权衡点改写规则

| 原始内容 | 改写示例 |
|----------|----------|
| NEPTUNE 支持 vs DRE 反对 | 安全与节奏存在分歧，建议在行程安排上做平衡 |
| ABU 反对 | 安全维度建议优化 |
| 多角色冲突 | 不同评估维度存在分歧，可按优先级选择 |

### 8.4 分歧的具体原因（用户可见）

**问题**：用户看不到「因什么产生分歧」。

**前端改造**：
- 「主要分歧」收拢为两段：**具体问题**（criticalConcerns，分歧产生的原因）、**分歧所在**（keyTradeoffs，哪些评估维度有不同判断）
- 具体问题优先展示，让用户先看到「什么」有问题

**后端要求**：协商 API 的 `evaluationSummary.criticalConcerns` 应返回具体可读问题，例如：
- "Day2 驾驶时间较长，可能产生疲劳风险"
- "下午天气不稳定，建议调整停留顺序"

若 criticalConcerns 为空，用户只能看到「安全与节奏存在分歧」，无法得知具体原因。

### 8.6 接口需求清单（前端展示所需）

| 接口 | 路径 | 需提供的字段 | 用途 |
|------|------|--------------|------|
| **协商结论** | `POST /v2/user/optimization/negotiation` | `evaluationSummary.criticalConcerns` | **必填**，用于展示「具体问题（分歧产生的原因）」 |
| 同上 | 同上 | `keyTradeoffs` | 展示「分歧所在（哪些评估维度有不同判断）」 |
| 同上 | 同上 | `votingResult.approve/reject/abstain` | 赞成/反对/弃权（须为非负整数） |
| 同上 | 同上 | `evaluationSummary.abuUtility/dreUtility/neptuneUtility` | 安全/节奏/修复 维度评分 |
| 同上 | 同上 | `consensusLevel`, `decision` | 共识度、决策结论 |
| **风险评估** | `POST /v2/user/optimization/risk-assessment` | `downsideRisk`, `expectedUtility`, `feasibilityProbability`, `confidenceInterval` | 须为有效数值，避免 NaN |
| **评估计划** | `POST /v2/user/optimization/evaluate` | `weightsUsed` | 各维度权重，用于展示「权重 X%」；缺省时前端用默认值 |
| **优化计划** | `POST /v2/user/optimization/optimize` | `finalUtility`, `changes`, `optimizedPlan` | `finalUtility` 避免 NaN；`changes` 为空时前端展示「当前计划已较优」 |

**criticalConcerns 示例格式**（协商接口）：
```json
{
  "evaluationSummary": {
    "criticalConcerns": [
      "疲劳风险偏高 (25%)",
      "建议拆分高负荷天或插入休息日"
    ]
  }
}
```
按天/时段细化（如「Day2 驾驶时间较长…」）可在后端 GuardianDebateService 中扩展。

**优化接口响应映射**：`optimizedPlan` ← `plan`；`changes` ← `logs`；`finalUtility` ← `summary.finalUtility`。前端 API 层已做兼容映射。

### 8.5 实施优先级

| 优先级 | 内容 |
|--------|------|
| P0 | 投票结果中「弃权」须带标签，不可裸显 -1 |
| P0 | 关键权衡点不得出现 Abu/Dre/Neptune 等内部代号 |
| P1 | 守护者评估改为「安全/节奏/修复」维度展示 |
| P1 | 「效用值」改为「评分」 |
| P2 | 协商结论整体收拢为「结论 + 展开详情」 |
