# è¯æ® API v2.0 UI é›†æˆå®ŒæˆæŠ¥å‘Š

**å®Œæˆæ—¥æœŸ**ï¼š2026-01-29  
**ç‰ˆæœ¬**ï¼šv2.0.0

---

## âœ… å·²å®Œæˆçš„ UI ç»„ä»¶

### 1. EvidenceCompletenessCardï¼ˆè¯æ®å®Œæ•´æ€§æ£€æŸ¥å¡ç‰‡ï¼‰âœ…

**æ–‡ä»¶**ï¼š`src/components/readiness/EvidenceCompletenessCard.tsx`

**åŠŸèƒ½**ï¼š
- æ˜¾ç¤ºå®Œæ•´æ€§è¯„åˆ†ï¼ˆ0-100%ï¼‰
- æ˜¾ç¤ºç¼ºå¤±è¯æ®åˆ—è¡¨ï¼ˆæŒ‰å½±å“ç­‰çº§ï¼šHIGH/MEDIUM/LOWï¼‰
- æ˜¾ç¤ºè¡¥å……å»ºè®®ï¼ˆæŒ‰ä¼˜å…ˆçº§æ’åºï¼‰
- æ”¯æŒä¸€é”®è·å–è¯æ®

**è§†è§‰è®¾è®¡**ï¼š
- ä½¿ç”¨ `gateStatusTokens` æ˜¾ç¤ºå®Œæ•´æ€§çŠ¶æ€ï¼ˆPASS/WARN/BLOCKï¼‰
- ä½¿ç”¨ `cardVariants.standard` å¡ç‰‡æ ·å¼
- ä½¿ç”¨ `Progress` ç»„ä»¶æ˜¾ç¤ºè¿›åº¦æ¡
- ä½¿ç”¨ `Badge` æ˜¾ç¤ºå½±å“ç­‰çº§å’Œä¼˜å…ˆçº§
- å…‹åˆ¶ä½¿ç”¨é¢œè‰²ï¼ˆä¸»é å±‚çº§ã€æè¾¹ã€iconã€æ ‡ç­¾ï¼‰

---

### 2. EvidenceSuggestionsCardï¼ˆè¯æ®è·å–å»ºè®®å¡ç‰‡ï¼‰âœ…

**æ–‡ä»¶**ï¼š`src/components/readiness/EvidenceSuggestionsCard.tsx`

**åŠŸèƒ½**ï¼š
- æ˜¾ç¤ºè¯æ®è·å–å»ºè®®åˆ—è¡¨
- æ˜¾ç¤ºä¸€é”®æ‰¹é‡è·å–å»ºè®®ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰
- æ”¯æŒåŒæ­¥å’Œå¼‚æ­¥è·å–æ¨¡å¼
- æ˜¾ç¤ºæ—¶é—´ä¼°ç®—å’Œå½±å“èŒƒå›´

**è§†è§‰è®¾è®¡**ï¼š
- ä½¿ç”¨ `gateStatusTokens` æ˜¾ç¤ºå®Œæ•´æ€§çŠ¶æ€
- ä½¿ç”¨æ¸å˜èƒŒæ™¯çªå‡ºæ˜¾ç¤ºä¸€é”®æ‰¹é‡è·å–å»ºè®®
- ä½¿ç”¨ `Badge` æ˜¾ç¤ºä¼˜å…ˆçº§
- ä½¿ç”¨ `Clock` å›¾æ ‡æ˜¾ç¤ºæ—¶é—´ä¼°ç®—

---

### 3. TaskProgressDialogï¼ˆå¼‚æ­¥ä»»åŠ¡è¿›åº¦å¯¹è¯æ¡†ï¼‰âœ…

**æ–‡ä»¶**ï¼š`src/components/readiness/TaskProgressDialog.tsx`

**åŠŸèƒ½**ï¼š
- æ˜¾ç¤ºä»»åŠ¡çŠ¶æ€ï¼ˆPENDING/RUNNING/COMPLETED/FAILED/CANCELLEDï¼‰
- æ˜¾ç¤ºè¿›åº¦æ¡å’Œç™¾åˆ†æ¯”
- æ˜¾ç¤ºå½“å‰å¤„ç†çš„POI
- æ˜¾ç¤ºé¢„è®¡å‰©ä½™æ—¶é—´
- æ”¯æŒå–æ¶ˆä»»åŠ¡
- æ˜¾ç¤ºå®Œæˆç»“æœæˆ–é”™è¯¯ä¿¡æ¯

**è§†è§‰è®¾è®¡**ï¼š
- ä½¿ç”¨ `Dialog` ç»„ä»¶ï¼ˆshadcn/uiï¼‰
- ä½¿ç”¨ `Progress` ç»„ä»¶æ˜¾ç¤ºè¿›åº¦
- ä½¿ç”¨ `Badge` æ˜¾ç¤ºä»»åŠ¡çŠ¶æ€
- ä½¿ç”¨çŠ¶æ€å›¾æ ‡ï¼ˆLoader2ã€CheckCircle2ã€XCircleï¼‰
- å…‹åˆ¶ä½¿ç”¨é¢œè‰²ï¼ˆä¸»é å±‚çº§ã€æè¾¹ã€iconã€æ ‡ç­¾ï¼‰

---

### 4. EvidenceFiltersï¼ˆè¯æ®è¿‡æ»¤å’Œæ’åºæ§ä»¶ï¼‰âœ…

**æ–‡ä»¶**ï¼š`src/components/readiness/EvidenceFilters.tsx`

**åŠŸèƒ½**ï¼š
- ä¼˜å…ˆçº§è¿‡æ»¤ï¼ˆall/high/medium_and_highï¼‰
- ç±»å‹è¿‡æ»¤ï¼ˆopening_hours/road_closure/weather/booking/otherï¼‰
- å¤©æ•°è¿‡æ»¤ï¼ˆ1-basedï¼‰
- æ’åºæ–¹å¼ï¼ˆtime/importance/relevance/freshness/qualityï¼‰
- æ˜¾ç¤ºæ´»åŠ¨è¿‡æ»¤å™¨æ ‡ç­¾
- æ”¯æŒæ¸…é™¤æ‰€æœ‰è¿‡æ»¤å™¨

**è§†è§‰è®¾è®¡**ï¼š
- ä½¿ç”¨ `Select` ç»„ä»¶ï¼ˆshadcn/uiï¼‰
- ä½¿ç”¨ `Badge` æ˜¾ç¤ºæ´»åŠ¨è¿‡æ»¤å™¨
- ä½¿ç”¨ `Filter` å›¾æ ‡
- ä½¿ç”¨ `cardVariants.evidence` å¡ç‰‡æ ·å¼
- å“åº”å¼å¸ƒå±€ï¼ˆflex-wrapï¼‰

---

## âœ… å·²å®Œæˆçš„é›†æˆ

### ReadinessPage é›†æˆ âœ…

**æ–‡ä»¶**ï¼š`src/pages/readiness/index.tsx`

**æ–°å¢åŠŸèƒ½**ï¼š

1. **çŠ¶æ€ç®¡ç†**ï¼š
   - `completenessData` - è¯æ®å®Œæ•´æ€§æ£€æŸ¥æ•°æ®
   - `suggestionsData` - è¯æ®è·å–å»ºè®®æ•°æ®
   - `evidenceFilters` - è¯æ®è¿‡æ»¤å’Œæ’åºçŠ¶æ€
   - `taskProgress` - å¼‚æ­¥ä»»åŠ¡è¿›åº¦çŠ¶æ€
   - `taskProgressDialogOpen` - ä»»åŠ¡è¿›åº¦å¯¹è¯æ¡†å¼€å…³

2. **API è°ƒç”¨**ï¼š
   - `loadCompletenessData` - åŠ è½½è¯æ®å®Œæ•´æ€§æ£€æŸ¥
   - `loadSuggestionsData` - åŠ è½½è¯æ®è·å–å»ºè®®
   - `handleFetchEvidence` - è·å–è¯æ®ï¼ˆæ”¯æŒåŒæ­¥/å¼‚æ­¥æ¨¡å¼ï¼‰
   - `startTaskProgressPolling` - è½®è¯¢ä»»åŠ¡è¿›åº¦
   - `handleCancelTask` - å–æ¶ˆä»»åŠ¡

3. **UI é›†æˆ**ï¼š
   - åœ¨è¯æ®æ ‡ç­¾é¡µä¸­æ˜¾ç¤º `EvidenceCompletenessCard`
   - åœ¨è¯æ®æ ‡ç­¾é¡µä¸­æ˜¾ç¤º `EvidenceSuggestionsCard`
   - åœ¨è¯æ®åˆ—è¡¨ä¸Šæ–¹æ˜¾ç¤º `EvidenceFilters`
   - æ˜¾ç¤º `TaskProgressDialog`ï¼ˆå¼‚æ­¥ä»»åŠ¡æ—¶ï¼‰

4. **æ•°æ®æµ**ï¼š
   - é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨åŠ è½½å®Œæ•´æ€§æ£€æŸ¥å’Œè·å–å»ºè®®
   - è¯æ®è·å–åè‡ªåŠ¨åˆ·æ–°åˆ—è¡¨ã€å®Œæ•´æ€§æ£€æŸ¥å’Œè·å–å»ºè®®
   - å¼‚æ­¥ä»»åŠ¡å®Œæˆåè‡ªåŠ¨åˆ·æ–°æ•°æ®

---

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### P0ä¿®å¤ - è¯æ®å¢å¼ºå­—æ®µæ˜¾ç¤º âœ…

**ç»„ä»¶**ï¼š`EvidenceListItem`

**æ˜¾ç¤ºå†…å®¹**ï¼š
- âœ… æ—¶æ•ˆæ€§çŠ¶æ€ï¼ˆFRESH/STALE/EXPIREDï¼‰- é¢œè‰²åœ†ç‚¹
- âœ… è´¨é‡è¯„åˆ†ï¼ˆç™¾åˆ†æ¯”ï¼‰- æ ¹æ®ç­‰çº§ä½¿ç”¨ä¸åŒé¢œè‰²
- âœ… ç½®ä¿¡åº¦ï¼ˆå¦‚æœæœ‰ï¼‰- ç™¾åˆ†æ¯”æ˜¾ç¤º

---

### P1åŠŸèƒ½ - è¯æ®å®Œæ•´æ€§æ£€æŸ¥ âœ…

**ç»„ä»¶**ï¼š`EvidenceCompletenessCard`

**åŠŸèƒ½**ï¼š
- âœ… æ˜¾ç¤ºå®Œæ•´æ€§è¯„åˆ†ï¼ˆ0-100%ï¼‰
- âœ… æ˜¾ç¤ºç¼ºå¤±è¯æ®åˆ—è¡¨ï¼ˆæŒ‰å½±å“ç­‰çº§ï¼‰
- âœ… æ˜¾ç¤ºè¡¥å……å»ºè®®ï¼ˆæŒ‰ä¼˜å…ˆçº§æ’åºï¼‰
- âœ… æ”¯æŒä¸€é”®è·å–è¯æ®

---

### P1åŠŸèƒ½ - è¯æ®è·å–å»ºè®® âœ…

**ç»„ä»¶**ï¼š`EvidenceSuggestionsCard`

**åŠŸèƒ½**ï¼š
- âœ… æ˜¾ç¤ºè·å–å»ºè®®åˆ—è¡¨
- âœ… æ˜¾ç¤ºä¸€é”®æ‰¹é‡è·å–å»ºè®®ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰
- âœ… æ”¯æŒåŒæ­¥å’Œå¼‚æ­¥è·å–æ¨¡å¼
- âœ… æ˜¾ç¤ºæ—¶é—´ä¼°ç®—å’Œå½±å“èŒƒå›´

---

### P1åŠŸèƒ½ - å¼‚æ­¥ä»»åŠ¡è¿›åº¦ âœ…

**ç»„ä»¶**ï¼š`TaskProgressDialog`

**åŠŸèƒ½**ï¼š
- âœ… æ˜¾ç¤ºä»»åŠ¡çŠ¶æ€å’Œè¿›åº¦
- âœ… æ˜¾ç¤ºå½“å‰å¤„ç†çš„POI
- âœ… æ˜¾ç¤ºé¢„è®¡å‰©ä½™æ—¶é—´
- âœ… æ”¯æŒå–æ¶ˆä»»åŠ¡
- âœ… è‡ªåŠ¨è½®è¯¢è¿›åº¦ï¼ˆæ¯2ç§’ï¼‰

---

### P1åŠŸèƒ½ - è¯æ®è¿‡æ»¤å’Œæ’åº âœ…

**ç»„ä»¶**ï¼š`EvidenceFilters`

**åŠŸèƒ½**ï¼š
- âœ… ä¼˜å…ˆçº§è¿‡æ»¤ï¼ˆall/high/medium_and_highï¼‰
- âœ… ç±»å‹è¿‡æ»¤ï¼ˆopening_hours/road_closure/weather/booking/otherï¼‰
- âœ… å¤©æ•°è¿‡æ»¤ï¼ˆ1-basedï¼‰
- âœ… æ’åºæ–¹å¼ï¼ˆtime/importance/relevance/freshness/qualityï¼‰
- âœ… æ˜¾ç¤ºæ´»åŠ¨è¿‡æ»¤å™¨æ ‡ç­¾
- âœ… æ”¯æŒæ¸…é™¤æ‰€æœ‰è¿‡æ»¤å™¨

---

## ğŸ“‹ ç»„ä»¶æ¸…å•

| ç»„ä»¶ | æ–‡ä»¶ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|------|
| `EvidenceCompletenessCard` | `src/components/readiness/EvidenceCompletenessCard.tsx` | âœ… | è¯æ®å®Œæ•´æ€§æ£€æŸ¥å¡ç‰‡ |
| `EvidenceSuggestionsCard` | `src/components/readiness/EvidenceSuggestionsCard.tsx` | âœ… | è¯æ®è·å–å»ºè®®å¡ç‰‡ |
| `TaskProgressDialog` | `src/components/readiness/TaskProgressDialog.tsx` | âœ… | å¼‚æ­¥ä»»åŠ¡è¿›åº¦å¯¹è¯æ¡† |
| `EvidenceFilters` | `src/components/readiness/EvidenceFilters.tsx` | âœ… | è¯æ®è¿‡æ»¤å’Œæ’åºæ§ä»¶ |

---

## ğŸ¨ è§†è§‰è®¾è®¡è§„èŒƒ

### è®¾è®¡åŸåˆ™

1. **Clarity over Charmï¼ˆæ¸…æ™°ä¼˜å…ˆäºè®¨å–œï¼‰**
   - ä¿¡æ¯å±‚çº§æ¸…æ™°
   - å…‹åˆ¶ä½¿ç”¨é¢œè‰²
   - ä¸»é å±‚çº§ã€æè¾¹ã€iconã€æ ‡ç­¾

2. **Evidence is the aestheticï¼ˆè¯æ®å°±æ˜¯ç¾å­¦ï¼‰**
   - å¯ä¿¡æ„Ÿæ¥è‡ªä¿¡æ¯ç»“æ„
   - æ¥æºã€æ—¶é—´ã€å¼•ç”¨ã€å¯è¿½æº¯

3. **Decision is a UI primitiveï¼ˆå†³ç­–æ˜¯ UI åŸè¯­ï¼‰**
   - è£å†³çŠ¶æ€å¿…é¡»åƒç”µé‡/ç½‘ç»œä¸€æ ·æˆä¸ºç³»ç»Ÿçº§ UI å…ƒç´ 

4. **Quiet confidenceï¼ˆå®‰é™çš„è‡ªä¿¡ï¼‰**
   - é«˜çº§æ„Ÿæ¥è‡ªæ¯”ä¾‹ã€ç•™ç™½ã€å±‚çº§ã€ç»†èŠ‚ä¸€è‡´æ€§

### è®¾è®¡ Token ä½¿ç”¨

- âœ… `gateStatusTokens` - å››æ€è£å†³é¢œè‰²
- âœ… `cardVariants` - å¡ç‰‡æ ·å¼å˜ä½“
- âœ… `typographyTokens` - æ–‡å­—æ ·å¼
- âœ… `spacingTokens` - é—´è·è§„èŒƒ

---

## âœ… å®Œæˆæ¸…å•

### ç»„ä»¶å¼€å‘
- [x] EvidenceCompletenessCard
- [x] EvidenceSuggestionsCard
- [x] TaskProgressDialog
- [x] EvidenceFilters

### é¡µé¢é›†æˆ
- [x] ReadinessPage çŠ¶æ€ç®¡ç†
- [x] ReadinessPage API è°ƒç”¨
- [x] ReadinessPage UI é›†æˆ
- [x] æ•°æ®æµå’Œè‡ªåŠ¨åˆ·æ–°

### ç±»å‹å®šä¹‰
- [x] EvidenceFiltersState ç±»å‹å¯¼å‡º
- [x] ç±»å‹å…¼å®¹æ€§å¤„ç†

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [è¯æ® API v2.0 é›†æˆæŠ¥å‘Š](./evidence-api-v2-integration.md)
- [è¯æ®ä¸å…³æ³¨é˜Ÿåˆ— API æ¥å£æ–‡æ¡£](./evidence-api-display-locations.md)
- [è¯æ®çŠ¶æ€æ›´æ–°åŠŸèƒ½å®Œæ•´é›†æˆæŠ¥å‘Š](./evidence-status-integration-complete.md)

---

**æœ€åæ›´æ–°**ï¼š2026-01-29  
**ç‰ˆæœ¬**ï¼šv2.0.0  
**çŠ¶æ€**ï¼šâœ… UI é›†æˆå®Œæˆ
