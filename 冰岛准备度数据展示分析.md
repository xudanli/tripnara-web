# 冰岛准备度数据展示分析

## 当前数据转换情况

### ✅ 已处理的数据

1. **Blockers（阻塞项）**
   - 从 `findings[].blockers` 提取
   - 显示在 Blockers 区域
   - ✅ 已实现

2. **Watchlist（关注列表）**
   - 从 `findings[].should` 提取（只取前2个）
   - 只在 ready 状态时显示
   - ✅ 已实现，但只显示部分数据

3. **风险数量统计**
   - 从 `risks` 数组计算风险数量
   - 用于计算 overall score 和 safetyRisk score
   - ✅ 已实现

### ❌ 未处理的数据

1. **Risks（风险详细信息）**
   - `checkResult.risks` 数组包含完整的风险信息
   - 包含：type, severity, summary, mitigations
   - ❌ 当前没有在页面上显示

2. **Must 清单**
   - `findings[].must` 数组包含 must 级别的任务
   - ❌ 当前没有在页面上显示

3. **Should 清单（完整）**
   - `findings[].should` 数组包含 should 级别的任务
   - 当前只提取了前2个作为 watchlist
   - ❌ 完整列表没有显示

4. **Optional 清单**
   - `findings[].optional` 数组包含 optional 级别的任务
   - ❌ 当前没有在页面上显示

5. **规则详细信息**
   - 规则包含 message, tasks, evidence, deadline, channel 等信息
   - ❌ 当前只显示了 message，其他信息没有展示

## 建议的改进方案

### 方案1：在 Evidence Chain 标签页显示风险信息

在 Evidence Chain 标签页中添加：
1. **风险列表**：显示所有 risks（类型、严重程度、摘要、应对措施）
2. **Must 清单**：显示所有 must 级别的任务
3. **Should 清单**：显示所有 should 级别的任务
4. **Optional 清单**：显示所有 optional 级别的任务

### 方案2：添加新的标签页 "Risks & Checklists"

添加一个新标签页专门显示：
1. 风险信息
2. 准备清单（Must/Should/Optional）

### 方案3：增强现有组件

在 Blockers 区域下方添加：
1. 风险卡片列表
2. 清单展开区域

## 冰岛数据的特殊之处

根据文档，冰岛 pack 包含：
- **5种风险类型**（始终返回）
- **7条规则**（根据条件匹配）
- **5个检查清单**

这些信息应该清晰地展示给用户，特别是：
1. 高风险项（如极端天气、地形风险、F-路驾驶）
2. 必须完成的任务（如检查天气预报、规划燃料站）
3. 建议完成的任务（如露营季节检查）

## 当前问题

1. **数据丢失**：大量有用的信息没有被展示
2. **用户体验**：用户看不到完整的安全建议和准备清单
3. **信息不完整**：只显示了 blockers，但 must/should/optional 也很重要

